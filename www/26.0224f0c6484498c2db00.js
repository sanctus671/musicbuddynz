(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"m+Ja":function(n,e,t){"use strict";t.r(e),t.d(e,"ManageUsersPageModule",(function(){return v}));var i=t("Valr"),r=t("QJY3"),s=t("sPEm"),a=t("DUip"),o=t("wd/R"),c=t("TYT/"),u=t("VKgo"),b=t("m/P+");function l(n,e){1&n&&(c.Mb(0,"div",6),c.Kb(1,"ion-spinner",7),c.Lb())}function g(n,e){1&n&&(c.Mb(0,"div",8),c.Kb(1,"ion-icon",9),c.Mb(2,"h2"),c.lc(3,"No Unverified Users"),c.Lb(),c.Lb())}function _(n,e){if(1&n&&(c.Mb(0,"ion-avatar",0),c.Kb(1,"img",18),c.Lb()),2&n){var t=c.Wb().$implicit;c.zb(1),c.bc("src",t.avatar,c.ic)}}function f(n,e){if(1&n){var t=c.Nb();c.Mb(0,"ion-button",19),c.Ub("click",(function(){c.hc(t);var n=c.Wb().$implicit;return c.Wb(2).callUser(n)})),c.lc(1," Call User "),c.Lb()}}var m=function(n){return[n]};function p(n,e){if(1&n){var t=c.Nb();c.Mb(0,"div",12),c.Mb(1,"ion-item",13),c.kc(2,_,2,1,"ion-avatar",14),c.Mb(3,"ion-label"),c.Mb(4,"h2"),c.lc(5),c.Lb(),c.Mb(6,"p"),c.lc(7),c.Lb(),c.Lb(),c.Lb(),c.Mb(8,"div",15),c.kc(9,f,2,0,"ion-button",16),c.Mb(10,"ion-button",17),c.Ub("click",(function(n){c.hc(t);var i=e.$implicit;return c.Wb(2).markAsChecked(n,i)})),c.lc(11," Mark As Verified "),c.Lb(),c.Lb(),c.Lb()}if(2&n){var i=e.$implicit,r=c.Wb(2);c.zb(1),c.bc("routerLink",c.dc(6,m,"/profile/"+i.user_id)),c.zb(1),c.bc("ngIf",i.avatar),c.zb(3),c.mc(i.name),c.zb(2),c.nc("Signed up ",r.formatDate(i.created_at),""),c.zb(2),c.bc("ngIf",i.phone),c.zb(1),c.bc("disabled",i.verified)}}function d(n,e){if(1&n&&(c.Mb(0,"ion-list",10),c.kc(1,p,12,8,"div",11),c.Lb()),2&n){var t=c.Wb();c.zb(1),c.bc("ngForOf",t.users)}}var h=[{path:"",component:function(){function n(n,e,t){this.adminService=n,this.alertCtrl=e,this.iab=t,this.loading=!0,this.users=[],this.getUsers()}return n.prototype.ngOnInit=function(){},n.prototype.getUsers=function(){var n=this;this.adminService.getUsers().then((function(e){n.loading=!1,n.users=e})).catch((function(){n.loading=!1}))},n.prototype.markAsChecked=function(n,e){var t=this;n.stopPropagation(),n.preventDefault(),this.alertCtrl.create({header:"Are you sure?",message:"You are about to mark this user as verified. This will be visible to other users in the app. Ensure this user has been properly checked before you continue.",buttons:[{text:"Cancel",role:"cancel",handler:function(n){}},{text:"Continue",handler:function(n){e.security_check=!0,t.adminService.checkUser(e.user_id).then((function(){t.getUsers()})).catch((function(){e.security_check=!1}))}}]}).then((function(n){n.present()}))},n.prototype.callUser=function(n){this.iab.create("tel:"+n.phone,"_system")},n.prototype.emailUser=function(n){this.iab.create("mailto:"+n.email,"_system")},n.prototype.formatDate=function(n){var e=-(new Date).getTimezoneOffset();return o(n).add(e,"m").calendar()},n.\u0275fac=function(e){return new(e||n)(c.Jb(u.a),c.Jb(s.a),c.Jb(b.a))},n.\u0275cmp=c.Db({type:n,selectors:[["app-manage-users"]],decls:11,vars:3,consts:[["slot","start"],["defaultHref","/tabs/jobs"],[1,"manage-users"],["class","manage-users__loading",4,"ngIf"],["class","manage-users__empty",4,"ngIf"],["class","manage-users__list",4,"ngIf"],[1,"manage-users__loading"],["color","primary"],[1,"manage-users__empty"],["name","people"],[1,"manage-users__list"],["class","manage-users__list__user",4,"ngFor","ngForOf"],[1,"manage-users__list__user"],["lines","none","routerDirection","forward",3,"routerLink"],["slot","start",4,"ngIf"],[1,"manage-users__list__user__actions"],["fill","outline","slot","end","color","dark",3,"click",4,"ngIf"],["slot","end","fill","outline",3,"disabled","click"],[3,"src"],["fill","outline","slot","end","color","dark",3,"click"]],template:function(n,e){1&n&&(c.Mb(0,"ion-header"),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-buttons",0),c.Mb(3,"ion-button"),c.Kb(4,"ion-back-button",1),c.Lb(),c.Lb(),c.Mb(5,"ion-title"),c.lc(6,"Manage Users"),c.Lb(),c.Lb(),c.Lb(),c.Mb(7,"ion-content",2),c.kc(8,l,2,0,"div",3),c.kc(9,g,4,0,"div",4),c.kc(10,d,2,1,"ion-list",5),c.Lb()),2&n&&(c.zb(8),c.bc("ngIf",e.loading),c.zb(1),c.bc("ngIf",e.users.length<1&&!e.loading),c.zb(1),c.bc("ngIf",e.users.length>0))},directives:[s.q,s.O,s.i,s.h,s.e,s.f,s.N,s.n,i.k,s.H,s.r,s.x,i.j,s.v,s.X,a.h,s.w,s.d],styles:[".manage-users[_ngcontent-%COMP%]   .manage-users__loading[_ngcontent-%COMP%]{text-align:center;margin-top:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]{text-align:center;opacity:.2;padding-top:60px;padding-bottom:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:60px}.manage-users[_ngcontent-%COMP%]   .manage-users__empty[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:5px 0 0;font-size:22px}.manage-users[_ngcontent-%COMP%]   .manage-users__list[_ngcontent-%COMP%]   .manage-users__list__user[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.05);padding-bottom:20px;margin-bottom:10px}.manage-users[_ngcontent-%COMP%]   .manage-users__list[_ngcontent-%COMP%]   .manage-users__list__user[_ngcontent-%COMP%]   .manage-users__list__user__actions[_ngcontent-%COMP%]{text-align:center}"]}),n}()}],M=function(){function n(){}return n.\u0275mod=c.Hb({type:n}),n.\u0275inj=c.Gb({factory:function(e){return new(e||n)},imports:[[a.j.forChild(h)],a.j]}),n}(),v=function(){function n(){}return n.\u0275mod=c.Hb({type:n}),n.\u0275inj=c.Gb({factory:function(e){return new(e||n)},imports:[[i.b,r.a,s.P,M]]}),n}()}}]);