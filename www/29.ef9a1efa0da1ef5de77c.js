(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{UUSl:function(n,e,t){"use strict";t.r(e),t.d(e,"SignupPageModule",(function(){return w}));var o=t("Valr"),i=t("QJY3"),r=t("sPEm"),a=t("DUip"),c=t("AytR"),s=t("TYT/"),b=t("ri4K"),u=t("BEPN"),g=t("m/P+"),l=t("B7Rs"),p=t("a/9d");function _(n,e){1&n&&s.Kb(0,"ion-icon",26)}function d(n,e){if(1&n&&(s.Mb(0,"ion-avatar",27),s.Kb(1,"img",28),s.Lb()),2&n){var t=s.Wb(2);s.zb(1),s.bc("src",t.user.avatar,s.ic)}}function M(n,e){if(1&n){var t=s.Nb();s.Mb(0,"div"),s.Mb(1,"ion-item"),s.Mb(2,"ion-label",17),s.lc(3,"Your Hourly Rate"),s.Lb(),s.Mb(4,"ion-input",29),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb(2).user.hourly_rate=n})),s.Lb(),s.Lb(),s.Mb(5,"ion-item"),s.Mb(6,"ion-label",17),s.lc(7,"Your Bank Account Number (to be paid into)"),s.Lb(),s.Mb(8,"ion-input",29),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb(2).user.bank_account=n})),s.Lb(),s.Lb(),s.Lb()}if(2&n){var o=s.Wb(2);s.zb(4),s.bc("ngModel",o.user.hourly_rate),s.zb(4),s.bc("ngModel",o.user.bank_account)}}var f=function(n){return{invalidItem:n}};function h(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-list",11),s.Mb(1,"ion-item",12),s.kc(2,_,1,0,"ion-icon",13),s.kc(3,d,2,1,"ion-avatar",14),s.Mb(4,"ion-button",15),s.Ub("click",(function(){return s.hc(t),s.Wb().changeImage()})),s.lc(5,"Select Photo"),s.Lb(),s.Lb(),s.Mb(6,"ion-item",16),s.Mb(7,"ion-label",17),s.lc(8,"First Name *"),s.Lb(),s.Mb(9,"ion-input",18),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.first_name=n})),s.Lb(),s.Lb(),s.Mb(10,"ion-item",16),s.Mb(11,"ion-label",17),s.lc(12,"Last Name *"),s.Lb(),s.Mb(13,"ion-input",18),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.last_name=n})),s.Lb(),s.Lb(),s.Mb(14,"ion-item"),s.Mb(15,"ion-label",17),s.lc(16,"Phone"),s.Lb(),s.Mb(17,"ion-input",18),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.phone=n})),s.Lb(),s.Lb(),s.kc(18,M,9,2,"div",19),s.Mb(19,"ion-item"),s.Mb(20,"ion-label",17),s.lc(21,"Gender"),s.Lb(),s.Mb(22,"ion-select",20),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.gender=n})),s.Mb(23,"ion-select-option",21),s.lc(24,"Male"),s.Lb(),s.Mb(25,"ion-select-option",22),s.lc(26,"Female"),s.Lb(),s.Mb(27,"ion-select-option",23),s.lc(28,"Other"),s.Lb(),s.Lb(),s.Lb(),s.Mb(29,"ion-item"),s.Mb(30,"ion-label",17),s.lc(31,"Location"),s.Lb(),s.Mb(32,"ion-input",18),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.location=n})),s.Lb(),s.Lb(),s.Mb(33,"ion-item"),s.Mb(34,"ion-label",17),s.lc(35,"Date Of Birth"),s.Lb(),s.Mb(36,"ion-datetime",24),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.dob=n})),s.Lb(),s.Lb(),s.Mb(37,"ion-item"),s.Mb(38,"ion-label",17),s.lc(39,"About You"),s.Lb(),s.Mb(40,"ion-textarea",25),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.biography=n})),s.Lb(),s.Lb(),s.Lb()}if(2&n){var o=s.Wb();s.zb(2),s.bc("ngIf",!o.user.avatar),s.zb(1),s.bc("ngIf",o.user.avatar),s.zb(3),s.bc("ngClass",s.dc(12,f,!o.user.first_name&&o.user.error)),s.zb(3),s.bc("ngModel",o.user.first_name),s.zb(1),s.bc("ngClass",s.dc(14,f,!o.user.last_name&&o.user.error)),s.zb(3),s.bc("ngModel",o.user.last_name),s.zb(4),s.bc("ngModel",o.user.phone),s.zb(1),s.bc("ngIf","musician"===o.user.type),s.zb(4),s.bc("ngModel",o.user.gender),s.zb(10),s.bc("ngModel",o.user.location),s.zb(4),s.bc("ngModel",o.user.dob),s.zb(4),s.bc("ngModel",o.user.biography)}}function m(n,e){if(1&n&&(s.Mb(0,"p",36),s.lc(1),s.Lb()),2&n){var t=s.Wb(2);s.zb(1),s.mc(t.user.error)}}function C(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-list",11),s.Mb(1,"ion-item",16),s.Mb(2,"ion-label",17),s.lc(3,"Email *"),s.Lb(),s.Mb(4,"ion-input",30),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.email=n})),s.Lb(),s.Lb(),s.Mb(5,"ion-item"),s.Mb(6,"ion-label",17),s.lc(7,"Password"),s.Lb(),s.Mb(8,"ion-input",31),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.password=n})),s.Lb(),s.Lb(),s.Mb(9,"ion-item"),s.Mb(10,"ion-label",17),s.lc(11,"Confirm Password"),s.Lb(),s.Mb(12,"ion-input",31),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.confirm_password=n})),s.Lb(),s.Lb(),s.Mb(13,"ion-item",32),s.Mb(14,"ion-label"),s.lc(15,"I agree to the Music Buddy "),s.Mb(16,"a",33),s.Ub("click",(function(n){return s.hc(t),s.Wb().openTos(n)})),s.lc(17,"Terms and Conditions"),s.Lb(),s.Lb(),s.Mb(18,"ion-checkbox",34),s.Ub("ngModelChange",(function(n){return s.hc(t),s.Wb().user.tos=n})),s.Lb(),s.Lb(),s.kc(19,m,2,1,"p",35),s.Lb()}if(2&n){var o=s.Wb();s.zb(1),s.bc("ngClass",s.dc(6,f,!o.user.email&&o.user.error)),s.zb(3),s.bc("ngModel",o.user.email),s.zb(4),s.bc("ngModel",o.user.password),s.zb(4),s.bc("ngModel",o.user.confirm_password),s.zb(6),s.bc("ngModel",o.user.tos),s.zb(1),s.bc("ngIf",o.user.error)}}function P(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-button",37),s.Ub("click",(function(){return s.hc(t),s.Wb().changeStep(2)})),s.lc(1," Continue "),s.Kb(2,"ion-icon",38),s.Lb()}}function L(n,e){1&n&&s.Kb(0,"ion-icon",38)}function v(n,e){1&n&&s.Kb(0,"ion-spinner")}function O(n,e){if(1&n){var t=s.Nb();s.Mb(0,"ion-button",39),s.Ub("click",(function(){return s.hc(t),s.Wb().signup()})),s.lc(1," Get Started\xa0\xa0 "),s.kc(2,L,1,0,"ion-icon",40),s.kc(3,v,1,0,"ion-spinner",19),s.Lb()}if(2&n){var o=s.Wb();s.bc("disabled",o.user.loading),s.zb(2),s.bc("ngIf",!o.user.loading),s.zb(1),s.bc("ngIf",o.user.loading)}}var y=function(n){return{"step--active":n}},x=[{path:"",component:function(){function n(n,e,t,o,i,r,a,c){this.authService=n,this.cityService=e,this.iab=t,this.transfer=o,this.camera=i,this.loadingController=r,this.alertController=a,this.route=c,this.user={permission:"user",email:"",password:"",error:"",location:"",loading:!1,tos:!0},this.step=1,this.user.type=this.route.snapshot.params.type}return n.prototype.ngOnInit=function(){},n.prototype.changeStep=function(n){this.step=n},n.prototype.signup=function(){var n=this;this.user.loading=!0,this.user.error="",this.user.email&&this.user.first_name&&this.user.last_name||(this.user.loading=!1,this.user.error="Required fields not filled in. "),this.user.tos||(this.user.loading=!1,this.user.error="Please accept the Terms and Conditions"),this.authService.register(this.user).then((function(){n.user.loading=!1,n.user={permission:"babysitter",email:"",password:"",error:"",city:"",country:"New Zealand",latitude:-36.866667,longitude:174.766667,loading:!1,tos:!0},n.authService.retreiveUserData().then((function(){})).catch((function(){}))})).catch((function(e){if(n.user.loading=!1,console.log(e),e&&e.error)if(e.error.error)for(var t in e.error.error.errors)n.user.error=n.user.error+e.error.error.errors[t]+" ";else n.user.error=e.error.message;else n.user.error=e.message}))},n.prototype.openTos=function(n){n.preventDefault(),n.stopPropagation(),this.iab.create("http://128.199.179.252/terms","_system")},n.prototype.changeImage=function(){var n=this;this.camera.getPicture({sourceType:this.camera.PictureSourceType.PHOTOLIBRARY,destinationType:this.camera.DestinationType.FILE_URI,encodingType:this.camera.EncodingType.JPEG,quality:25}).then((function(e){var t;n.loadingController.create({message:"Your image is being uploaded. Please wait...",duration:2e4}).then((function(n){t=n,n.present()}));var o=n.transfer.create(),i={fileKey:"media_file",fileName:Math.random().toString(36).substring(2),params:{},mimeType:"image/jpeg"};o.upload(e,encodeURI(c.a.apiUrl+"/upload"),i).then((function(e){if(e.response){var o=JSON.parse(e.response);n.user.avatar=o.file}t.dismiss()}),(function(e){n.alertController.create({header:"Error",subHeader:"There was a problem uploading your image",message:JSON.stringify(e),buttons:[{text:"Dismiss",role:"cancel"}]}).then((function(n){n.present()})),t.dismiss()}))}),(function(n){}))},n.\u0275fac=function(e){return new(e||n)(s.Jb(b.a),s.Jb(u.a),s.Jb(g.a),s.Jb(l.a),s.Jb(p.a),s.Jb(r.R),s.Jb(r.a),s.Jb(a.a))},n.\u0275cmp=s.Db({type:n,selectors:[["app-signup"]],decls:23,vars:10,consts:[["slot","start"],["defaultHref","/login"],[1,"signup"],[1,"signup__stepper"],[1,"signup__stepper__step","step",3,"ngClass","click"],[1,"step__number"],[1,"step__name"],["class","signup__form",4,"ngIf"],[1,"signup-footer"],["color","primary","expand","full","class","signup-footer__button",3,"click",4,"ngIf"],["color","primary","expand","full","class","signup-footer__button",3,"disabled","click",4,"ngIf"],[1,"signup__form"],[1,"signup__form__avatar"],["name","person",4,"ngIf"],["item-start","",4,"ngIf"],["color","primary",3,"click"],[3,"ngClass"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"ngModel","ngModelChange"],["value","Male"],["value","Female"],["value","Other"],["displayFormat","DD/MM/YYYY",3,"ngModel","ngModelChange"],["clearInput","",3,"ngModel","ngModelChange"],["name","person"],["item-start",""],[3,"src"],["clearInput","","type","number",3,"ngModel","ngModelChange"],["clearInput","","type","email",3,"ngModel","ngModelChange"],["clearInput","","type","password",3,"ngModel","ngModelChange"],["no-lines","","no-padding","",1,"custom-checkbox"],[3,"click"],["name","agree","checked","true","required","",3,"ngModel","ngModelChange"],["class","signup__form__error",4,"ngIf"],[1,"signup__form__error"],["color","primary","expand","full",1,"signup-footer__button",3,"click"],["name","arrow-forward"],["color","primary","expand","full",1,"signup-footer__button",3,"disabled","click"],["name","arrow-forward",4,"ngIf"]],template:function(n,e){1&n&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-buttons",0),s.Kb(3,"ion-back-button",1),s.Lb(),s.Mb(4,"ion-title"),s.lc(5,"Sign Up"),s.Lb(),s.Lb(),s.Lb(),s.Mb(6,"ion-content",2),s.Mb(7,"div",3),s.Mb(8,"div",4),s.Ub("click",(function(){return e.changeStep(1)})),s.Mb(9,"div",5),s.lc(10,"1"),s.Lb(),s.Mb(11,"div",6),s.lc(12,"Tell us about you"),s.Lb(),s.Lb(),s.Mb(13,"div",4),s.Ub("click",(function(){return e.changeStep(2)})),s.Mb(14,"div",5),s.lc(15,"2"),s.Lb(),s.Mb(16,"div",6),s.lc(17,"Enter your login details"),s.Lb(),s.Lb(),s.Lb(),s.kc(18,h,41,16,"ion-list",7),s.kc(19,C,20,8,"ion-list",7),s.Lb(),s.Mb(20,"ion-footer",8),s.kc(21,P,3,0,"ion-button",9),s.kc(22,O,4,3,"ion-button",10),s.Lb()),2&n&&(s.zb(8),s.bc("ngClass",s.dc(6,y,1===e.step)),s.zb(5),s.bc("ngClass",s.dc(8,y,2===e.step)),s.zb(5),s.bc("ngIf",1===e.step),s.zb(1),s.bc("ngIf",2===e.step),s.zb(2),s.bc("ngIf",1===e.step),s.zb(1),s.bc("ngIf",2===e.step))},directives:[r.q,r.O,r.i,r.e,r.f,r.N,r.n,o.i,o.k,r.p,r.x,r.v,r.h,r.w,r.u,r.Z,i.c,i.f,r.D,r.Y,r.E,r.o,r.M,r.r,r.d,r.V,r.l,r.b,i.g,r.H],styles:[".invalidItem[_ngcontent-%COMP%]{--full-highlight-height:calc(var(--highlight-height)*var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height)*var(--show-inset-highlight));--border-color:var(--ion-item-border-color,var(--ion-border-color,red))}.signup[_ngcontent-%COMP%]   .signup__stepper[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.signup[_ngcontent-%COMP%]   .signup__stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{display:inline-block;width:50%;text-align:center;vertical-align:top;padding:0 15px;opacity:.5;transition:opacity .2s linear}.signup[_ngcontent-%COMP%]   .signup__stepper[_ngcontent-%COMP%]   .step.step--active[_ngcontent-%COMP%]{opacity:1}.signup[_ngcontent-%COMP%]   .signup__stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step__number[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#2497e8;border-radius:15px;color:#fff;font-size:10px;text-align:center;line-height:30px;margin:0 auto}.signup[_ngcontent-%COMP%]   .signup__stepper[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step__name[_ngcontent-%COMP%]{font-size:12px}.signup[_ngcontent-%COMP%]   .signup__user-type[_ngcontent-%COMP%]   .signup__user-type__card[_ngcontent-%COMP%]{text-align:center;padding:50px 20px;opacity:.5;transition:opacity .2s linear}.signup[_ngcontent-%COMP%]   .signup__user-type[_ngcontent-%COMP%]   .signup__user-type__card.signup__user-type__card--active[_ngcontent-%COMP%]{opacity:1}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__avatar[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:5px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:20px;height:20px;padding:10px;border-radius:20px;background-color:#2497e8;color:#fff;margin-bottom:10px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin-bottom:10px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:15px;vertical-align:middle;margin-bottom:15px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{color:red;font-size:12px;line-height:16px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login[_ngcontent-%COMP%]{margin-top:40px;text-align:Center}.signup[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{position:relative}.signup[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal}.signup[_ngcontent-%COMP%]   .custom-checkbox[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap}.signup-footer[_ngcontent-%COMP%]:before{display:none}.signup-footer[_ngcontent-%COMP%]   .signup-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),n}()}],k=function(){function n(){}return n.\u0275mod=s.Hb({type:n}),n.\u0275inj=s.Gb({factory:function(e){return new(e||n)},imports:[[a.j.forChild(x)],a.j]}),n}(),w=function(){function n(){}return n.\u0275mod=s.Hb({type:n}),n.\u0275inj=s.Gb({factory:function(e){return new(e||n)},imports:[[o.b,i.a,r.P,k]]}),n}()}}]);