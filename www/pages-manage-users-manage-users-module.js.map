{"version":3,"sources":["./src/app/pages/manage-users/manage-users.page.html","./src/app/pages/manage-users/manage-users-routing.module.ts","./src/app/pages/manage-users/manage-users.module.ts","./src/app/pages/manage-users/manage-users.page.scss","./src/app/pages/manage-users/manage-users.page.ts"],"names":[],"mappings":"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","file":"pages-manage-users-manage-users-module.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-button>\\n                <ion-back-button defaultHref=\\\"/tabs/jobs\\\"></ion-back-button>\\n            </ion-button>            \\n        </ion-buttons>   \\n        \\n        <ion-title>Manage Users</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"manage-users\\\">\\n    \\n    \\n    <div class=\\\"manage-users__loading\\\" *ngIf=\\\"loading\\\">\\n        <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n    </div>    \\n\\n    <div class=\\\"manage-users__empty\\\" *ngIf=\\\"users.length < 1 && !loading\\\">\\n        <ion-icon name=\\\"people\\\"></ion-icon>\\n        <h2>No Unverified Users</h2>\\n    </div>     \\n    \\n    \\n    <ion-list class=\\\"manage-users__list\\\" *ngIf=\\\"users.length > 0\\\"> \\n        \\n        <div class=\\\"manage-users__list__user\\\"  *ngFor=\\\"let user of users\\\">\\n            <ion-item lines=\\\"none\\\" [routerLink]=\\\"['/profile/' + user.user_id]\\\" routerDirection=\\\"forward\\\">\\n                <ion-avatar slot=\\\"start\\\" *ngIf=\\\"user.avatar\\\">\\n                    <img [src]=\\\"user.avatar\\\" />\\n                </ion-avatar>                      \\n                <ion-label>\\n                    <h2>{{user.name}}</h2>\\n                    <p>Signed up {{formatDate(user.created_at)}}</p>\\n                </ion-label>\\n\\n            </ion-item>     \\n\\n            <div class=\\\"manage-users__list__user__actions\\\">\\n\\n                <ion-button  *ngIf=\\\"user.phone\\\" fill=\\\"outline\\\" slot=\\\"end\\\" color=\\\"dark\\\" (click)=\\\"callUser(user)\\\">\\n                    Call User\\n                </ion-button>               \\n                <ion-button slot=\\\"end\\\" fill=\\\"outline\\\" (click)=\\\"markAsChecked($event,user)\\\" [disabled]=\\\"user.verified\\\">\\n                    Mark As Verified\\n                </ion-button>\\n\\n            </div>                 \\n        </div>\\n        \\n        \\n    </ion-list>\\n    \\n    \\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ManageUsersPage } from './manage-users.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ManageUsersPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ManageUsersPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ManageUsersPageRoutingModule } from './manage-users-routing.module';\n\nimport { ManageUsersPage } from './manage-users.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ManageUsersPageRoutingModule\n  ],\n  declarations: [ManageUsersPage]\n})\nexport class ManageUsersPageModule {}\n","export default \".manage-users .manage-users__loading {\\n  text-align: center;\\n  margin-top: 60px;\\n}\\n.manage-users .manage-users__empty {\\n  text-align: center;\\n  opacity: 0.2;\\n  padding-top: 60px;\\n  padding-bottom: 60px;\\n}\\n.manage-users .manage-users__empty ion-icon {\\n  font-size: 60px;\\n}\\n.manage-users .manage-users__empty h2 {\\n  margin: 0px;\\n  margin-top: 5px;\\n  font-size: 22px;\\n}\\n.manage-users .manage-users__list .manage-users__list__user {\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\\n  padding-bottom: 20px;\\n  margin-bottom: 10px;\\n}\\n.manage-users .manage-users__list .manage-users__list__user .manage-users__list__user__actions {\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWFuYWdlLXVzZXJzL0Q6XFxUYXlsb3JcXERvY3VtZW50c1xcV2Vic2l0ZXNcXG11c2ljYnVkZHlcXGFwcC9zcmNcXGFwcFxccGFnZXNcXG1hbmFnZS11c2Vyc1xcbWFuYWdlLXVzZXJzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvbWFuYWdlLXVzZXJzL21hbmFnZS11c2Vycy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUk7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0FDRFI7QURLSTtFQUNJLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUNIUjtBREtRO0VBQ0ksZUFBQTtBQ0haO0FETVE7RUFDSSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUNKWjtBRFdRO0VBRUksNENBQUE7RUFDQSxvQkFBQTtFQUNBLG1CQUFBO0FDVlo7QURZWTtFQUNJLGtCQUFBO0FDVmhCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbWFuYWdlLXVzZXJzL21hbmFnZS11c2Vycy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFuYWdlLXVzZXJze1xyXG4gICAgXHJcbiAgICAubWFuYWdlLXVzZXJzX19sb2FkaW5ne1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBtYXJnaW4tdG9wOiA2MHB4OyAgICAgICAgXHJcbiAgICB9ICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgLm1hbmFnZS11c2Vyc19fZW1wdHl7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIG9wYWNpdHk6IDAuMjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogNjBweDtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogNjBweDsgIFxyXG5cclxuICAgICAgICBpb24taWNvbntcclxuICAgICAgICAgICAgZm9udC1zaXplOiA2MHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaDJ7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMHB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjJweDsgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAubWFuYWdlLXVzZXJzX19saXN0e1xyXG4gICAgICAgIFxyXG4gICAgICAgIC5tYW5hZ2UtdXNlcnNfX2xpc3RfX3VzZXJ7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjA1KTtcclxuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7ICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAubWFuYWdlLXVzZXJzX19saXN0X191c2VyX19hY3Rpb25ze1xyXG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOyAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9ICAgIFxyXG4gICAgXHJcbiAgICBcclxufSIsIi5tYW5hZ2UtdXNlcnMgLm1hbmFnZS11c2Vyc19fbG9hZGluZyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLXRvcDogNjBweDtcbn1cbi5tYW5hZ2UtdXNlcnMgLm1hbmFnZS11c2Vyc19fZW1wdHkge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG9wYWNpdHk6IDAuMjtcbiAgcGFkZGluZy10b3A6IDYwcHg7XG4gIHBhZGRpbmctYm90dG9tOiA2MHB4O1xufVxuLm1hbmFnZS11c2VycyAubWFuYWdlLXVzZXJzX19lbXB0eSBpb24taWNvbiB7XG4gIGZvbnQtc2l6ZTogNjBweDtcbn1cbi5tYW5hZ2UtdXNlcnMgLm1hbmFnZS11c2Vyc19fZW1wdHkgaDIge1xuICBtYXJnaW46IDBweDtcbiAgbWFyZ2luLXRvcDogNXB4O1xuICBmb250LXNpemU6IDIycHg7XG59XG4ubWFuYWdlLXVzZXJzIC5tYW5hZ2UtdXNlcnNfX2xpc3QgLm1hbmFnZS11c2Vyc19fbGlzdF9fdXNlciB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMDUpO1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cbi5tYW5hZ2UtdXNlcnMgLm1hbmFnZS11c2Vyc19fbGlzdCAubWFuYWdlLXVzZXJzX19saXN0X191c2VyIC5tYW5hZ2UtdXNlcnNfX2xpc3RfX3VzZXJfX2FjdGlvbnMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { AlertController} from '@ionic/angular';\nimport {AdminService} from '../../services/admin/admin.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'app-manage-users',\n    templateUrl: './manage-users.page.html',\n    styleUrls: ['./manage-users.page.scss'],\n})\nexport class ManageUsersPage implements OnInit {\n    \n    public users:Array<any>;\n    public loading:boolean;\n    constructor(private adminService:AdminService, private alertCtrl: AlertController, private iab: InAppBrowser) { \n        \n        this.loading = true;\n        this.users = [];\n        \n        this.getUsers();\n        \n    }\n\n    ngOnInit() {\n    }\n    \n    public getUsers(){\n        console.log(\"her\");\n        this.adminService.getUsers().then((data:Array<any>) => {\n            this.loading = false;\n            this.users = data;\n        }).catch(() => {\n            this.loading = false;\n        });        \n    }\n    \n    \n    public markAsChecked(ev, user){\n        ev.stopPropagation();\n        ev.preventDefault();\n        let alert = this.alertCtrl.create({\n            header: 'Are you sure?',\n            message: 'You are about to mark this user as verified. This will be visible to other users in the app. Ensure this user has been properly checked before you continue.',\n            buttons: [\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: data => {\n                    }  \n                },\n                {\n                    text: 'Continue',\n                    handler: data => {\n                        user.security_check = true;\n                        this.adminService.checkUser(user.user_id).then(() => {\n                            this.getUsers();\n                        }).catch(() => {\n                            user.security_check = false;\n                        })\n                        \n                    }  \n                }                \n            ] \n        }).then((el) => {\n            el.present();\n        });        \n    }\n    \n    \n    public callUser(user){\n        this.iab.create(\"tel:\" + user.phone, '_system');\n    }\n\n    public emailUser(user){\n        this.iab.create(\"mailto:\" + user.email, '_system');\n    }    \n        \n    \n    public formatDate(date){\n        let localeOffset = -(new Date().getTimezoneOffset());   \n        return moment(date).add(localeOffset, 'm').calendar();\n    }\n\n}\n"],"sourceRoot":"webpack:///"}