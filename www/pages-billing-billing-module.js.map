{"version":3,"sources":["./src/app/pages/billing/billing.page.html","./src/app/pages/billing/billing-routing.module.ts","./src/app/pages/billing/billing.module.ts","./src/app/pages/billing/billing.page.scss","./src/app/pages/billing/billing.page.ts"],"names":[],"mappings":"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","file":"pages-billing-billing-module.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-button>\\n                <ion-back-button defaultHref=\\\"/settings\\\"></ion-back-button>\\n            </ion-button>            \\n        </ion-buttons>   \\n        \\n        <ion-title>Billing & Payments</ion-title>\\n        \\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"billing\\\">\\n    \\n\\n    <div class=\\\"billing__loading\\\" *ngIf=\\\"loading\\\">\\n        <ion-spinner color=\\\"primary\\\"></ion-spinner>\\n    </div>    \\n\\n    <div class=\\\"billing__empty\\\" *ngIf=\\\"payments.length < 1 && !loading\\\">\\n        <ion-icon name=\\\"card\\\"></ion-icon>\\n        <h2>No Bills/Payments</h2>\\n    </div>  \\n\\n    \\n    <ion-list class=\\\"billing__list\\\" *ngIf=\\\"payments.length > 0\\\">\\n        \\n        <ion-item class=\\\"billing__list__item\\\" *ngFor=\\\"let payment of payments\\\" \\n                  [ngClass]=\\\"{'billing__list__item--add' : payment.recipient_user_id === user.id, 'billing__list__item--subtract' : payment.user_id === user.id}\\\"\\n                   [routerLink]=\\\"['/gigs/' + payment.gig_id]\\\" routerDirection=\\\"forward\\\">\\n            <ion-label class=\\\"ion-text-wrap\\\"> \\n                <h2>{{formatDate(payment.payment_date)}}</h2>\\n                <h3>\\n                    ${{getPayment(payment) | number:'1.2-2'}}\\n                </h3>\\n                <p>{{getStatus(payment)}}</p>\\n            </ion-label>\\n        </ion-item>  \\n        \\n    </ion-list>\\n    \\n    \\n\\n    \\n    \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BillingPage } from './billing.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BillingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BillingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BillingPageRoutingModule } from './billing-routing.module';\n\nimport { BillingPage } from './billing.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BillingPageRoutingModule\n  ],\n  declarations: [BillingPage]\n})\nexport class BillingPageModule {}\n","export default \".billing .billing__loading {\\n  text-align: center;\\n  margin-top: 60px;\\n}\\n.billing .billing__empty {\\n  text-align: center;\\n  opacity: 0.2;\\n  padding-top: 60px;\\n  padding-bottom: 60px;\\n}\\n.billing .billing__empty ion-icon {\\n  font-size: 60px;\\n}\\n.billing .billing__empty h2 {\\n  margin: 0px;\\n  margin-top: 5px;\\n  font-size: 22px;\\n}\\n.billing .billing__list .billing__list__item {\\n  position: relative;\\n}\\n.billing .billing__list .billing__list__item h3 {\\n  position: absolute;\\n  right: 15px;\\n  top: 15px;\\n}\\n.billing .billing__list .billing__list__item.billing__list__item--add h3 {\\n  color: green;\\n}\\n.billing .billing__list .billing__list__item.billing__list__item--add h3:before {\\n  content: \\\"+ \\\";\\n}\\n.billing .billing__list .billing__list__item.billing__list__item--subtract h3 {\\n  color: red;\\n}\\n.billing .billing__list .billing__list__item.billing__list__item--subtract h3:before {\\n  content: \\\"- \\\";\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYmlsbGluZy9EOlxcVGF5bG9yXFxEb2N1bWVudHNcXFdlYnNpdGVzXFxtdXNpY2J1ZGR5XFxhcHAvc3JjXFxhcHBcXHBhZ2VzXFxiaWxsaW5nXFxiaWxsaW5nLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvYmlsbGluZy9iaWxsaW5nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7QUNEUjtBREtJO0VBQ0ksa0JBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQ0hSO0FES1E7RUFDSSxlQUFBO0FDSFo7QURNUTtFQUNJLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtBQ0paO0FEVVE7RUFDSSxrQkFBQTtBQ1JaO0FEU1k7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0FDUGhCO0FEV2dCO0VBQ0ksWUFBQTtBQ1RwQjtBRFVvQjtFQUNJLGFBQUE7QUNSeEI7QURlZ0I7RUFDSSxVQUFBO0FDYnBCO0FEY29CO0VBQ0ksYUFBQTtBQ1p4QiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2JpbGxpbmcvYmlsbGluZy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYmlsbGluZ3tcclxuICAgIFxyXG4gICAgLmJpbGxpbmdfX2xvYWRpbmd7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDYwcHg7ICAgICAgICBcclxuICAgIH0gICBcclxuICAgIFxyXG4gICAgXHJcbiAgICAuYmlsbGluZ19fZW1wdHl7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIG9wYWNpdHk6IDAuMjtcclxuICAgICAgICBwYWRkaW5nLXRvcDogNjBweDtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogNjBweDsgIFxyXG5cclxuICAgICAgICBpb24taWNvbntcclxuICAgICAgICAgICAgZm9udC1zaXplOiA2MHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaDJ7XHJcbiAgICAgICAgICAgIG1hcmdpbjogMHB4O1xyXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjJweDsgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLmJpbGxpbmdfX2xpc3R7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLmJpbGxpbmdfX2xpc3RfX2l0ZW17XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgICAgICBoM3tcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgcmlnaHQ6MTVweDtcclxuICAgICAgICAgICAgICAgIHRvcDoxNXB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAmLmJpbGxpbmdfX2xpc3RfX2l0ZW0tLWFkZHtcclxuICAgICAgICAgICAgICAgIGgze1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOmdyZWVuO1xyXG4gICAgICAgICAgICAgICAgICAgICY6YmVmb3Jle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OlwiKyBcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAmLmJpbGxpbmdfX2xpc3RfX2l0ZW0tLXN1YnRyYWN0e1xyXG4gICAgICAgICAgICAgICAgaDN7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6cmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICY6YmVmb3Jle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OlwiLSBcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1cclxuICAgIFxyXG59IiwiLmJpbGxpbmcgLmJpbGxpbmdfX2xvYWRpbmcge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDYwcHg7XG59XG4uYmlsbGluZyAuYmlsbGluZ19fZW1wdHkge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG9wYWNpdHk6IDAuMjtcbiAgcGFkZGluZy10b3A6IDYwcHg7XG4gIHBhZGRpbmctYm90dG9tOiA2MHB4O1xufVxuLmJpbGxpbmcgLmJpbGxpbmdfX2VtcHR5IGlvbi1pY29uIHtcbiAgZm9udC1zaXplOiA2MHB4O1xufVxuLmJpbGxpbmcgLmJpbGxpbmdfX2VtcHR5IGgyIHtcbiAgbWFyZ2luOiAwcHg7XG4gIG1hcmdpbi10b3A6IDVweDtcbiAgZm9udC1zaXplOiAyMnB4O1xufVxuLmJpbGxpbmcgLmJpbGxpbmdfX2xpc3QgLmJpbGxpbmdfX2xpc3RfX2l0ZW0ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4uYmlsbGluZyAuYmlsbGluZ19fbGlzdCAuYmlsbGluZ19fbGlzdF9faXRlbSBoMyB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDE1cHg7XG4gIHRvcDogMTVweDtcbn1cbi5iaWxsaW5nIC5iaWxsaW5nX19saXN0IC5iaWxsaW5nX19saXN0X19pdGVtLmJpbGxpbmdfX2xpc3RfX2l0ZW0tLWFkZCBoMyB7XG4gIGNvbG9yOiBncmVlbjtcbn1cbi5iaWxsaW5nIC5iaWxsaW5nX19saXN0IC5iaWxsaW5nX19saXN0X19pdGVtLmJpbGxpbmdfX2xpc3RfX2l0ZW0tLWFkZCBoMzpiZWZvcmUge1xuICBjb250ZW50OiBcIisgXCI7XG59XG4uYmlsbGluZyAuYmlsbGluZ19fbGlzdCAuYmlsbGluZ19fbGlzdF9faXRlbS5iaWxsaW5nX19saXN0X19pdGVtLS1zdWJ0cmFjdCBoMyB7XG4gIGNvbG9yOiByZWQ7XG59XG4uYmlsbGluZyAuYmlsbGluZ19fbGlzdCAuYmlsbGluZ19fbGlzdF9faXRlbS5iaWxsaW5nX19saXN0X19pdGVtLS1zdWJ0cmFjdCBoMzpiZWZvcmUge1xuICBjb250ZW50OiBcIi0gXCI7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport {AuthenticationService} from '../../services/authentication/authentication.service';\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'app-billing',\n    templateUrl: './billing.page.html',\n    styleUrls: ['./billing.page.scss'],\n})\nexport class BillingPage implements OnInit {\n    \n    \n    public payments:Array<any>;\n    public user:any;\n    public loading:boolean;\n    \n    constructor(private authenticationService:AuthenticationService) { \n    \n        this.loading = true;\n        this.payments = [];\n        this.user = {};\n        \n        \n        \n        this.authenticationService.getUserData().subscribe((data) => {\n\n            this.user = data;\n        });         \n        \n        \n        this.authenticationService.getPayments().then((data:Array<any>) => {\n          console.log(data);\n          this.payments = data;  \n          this.loading = false;\n        }).catch(() => {\n            this.loading = false;\n        })\n        \n    \n    }\n\n    ngOnInit() {\n    }\n    \n    \n    public getPayment(payment){\n        \n        if (payment.user_id === this.user.id){\n            return payment.payment;\n        }\n        else if (payment.recipient_user_id === this.user.id){\n            return payment.payment / 1.1;\n        }\n        \n    }\n    \n    \n    public getStatus(payment){\n        if (payment.user_id === this.user.id){\n            return payment.status === \"stripepaid\" ? \"Payment Received\" : \"Musician Paid\";\n        }\n        else if (payment.recipient_user_id === this.user.id){\n            return payment.status === \"stripepaid\" ? \"Pending Payment\" : \"Payment Sent\";\n        }      \n    }\n    \n    \n    public formatDate(date){\n        return moment(date).format(\"Do MMM YYYY\");\n    }\n    \n\n}\n"],"sourceRoot":"webpack:///"}